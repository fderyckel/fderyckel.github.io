<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Francois de Ryckel">
<meta name="dcterms.date" content="2023-07-20">
<meta name="description" content="RW (discrete) and BM (continuous) constitute the way assets returns are modelled.">

<title>QUANT dira-t-on? - 03 - Random-walks &amp; Brownian Motions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">QUANT dira-t-on?</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/fderyckel/blog"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/Read_the_Dung"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">03 - Random-walks &amp; Brownian Motions</h1>
                  <div>
        <div class="description">
          RW (discrete) and BM (continuous) constitute the way assets returns are modelled.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Random Walk</div>
                <div class="quarto-category">Brownian Motion</div>
                <div class="quarto-category">Weiner Process</div>
                <div class="quarto-category">Quadratic Variation</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Francois de Ryckel </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 20, 2023</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">July 23, 2023</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-probabilty-of-random-walk" id="toc-the-probabilty-of-random-walk" class="nav-link active" data-scroll-target="#the-probabilty-of-random-walk">The probabilty of Random Walk</a>
  <ul class="collapse">
  <li><a href="#expected-returns" id="toc-expected-returns" class="nav-link" data-scroll-target="#expected-returns">Expected Returns</a></li>
  <li><a href="#expected-sum-of-returns" id="toc-expected-sum-of-returns" class="nav-link" data-scroll-target="#expected-sum-of-returns">Expected Sum of Returns</a></li>
  <li><a href="#the-markov-property" id="toc-the-markov-property" class="nav-link" data-scroll-target="#the-markov-property">The Markov Property</a></li>
  <li><a href="#the-martingale-property" id="toc-the-martingale-property" class="nav-link" data-scroll-target="#the-martingale-property">The Martingale Property</a></li>
  <li><a href="#the-quadratic-variation" id="toc-the-quadratic-variation" class="nav-link" data-scroll-target="#the-quadratic-variation">The Quadratic Variation</a></li>
  </ul></li>
  <li><a href="#quadratic-variation-and-transition-to-continuous-time" id="toc-quadratic-variation-and-transition-to-continuous-time" class="nav-link" data-scroll-target="#quadratic-variation-and-transition-to-continuous-time">Quadratic variation and transition to continuous time</a></li>
  <li><a href="#the-probability-of-wiener-processes-or-brownian-motions" id="toc-the-probability-of-wiener-processes-or-brownian-motions" class="nav-link" data-scroll-target="#the-probability-of-wiener-processes-or-brownian-motions">The probability of Wiener Processes or Brownian Motions</a>
  <ul class="collapse">
  <li><a href="#properties-of-weiner-processes" id="toc-properties-of-weiner-processes" class="nav-link" data-scroll-target="#properties-of-weiner-processes">Properties of Weiner processes</a></li>
  <li><a href="#expectation-of-w_t" id="toc-expectation-of-w_t" class="nav-link" data-scroll-target="#expectation-of-w_t">Expectation of <span class="math inline">\(W_t\)</span></a></li>
  <li><a href="#variance-of-w_t" id="toc-variance-of-w_t" class="nav-link" data-scroll-target="#variance-of-w_t">Variance of <span class="math inline">\(W_t\)</span></a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>This post is a collection of notes about Random Walk and Brownian Motions as well as their properties.</p>
<p>This <a href="../../../posts/quant-part1/random-behavior-assets/index.html">post on the random behavior of financial assets</a> might be of interest before to go through this.</p>
<section id="the-probabilty-of-random-walk" class="level1">
<h1>The probabilty of Random Walk</h1>
<p>In the context of quantitative finance, the easiest way to model a random walk is to consider a head/tail type of example which constitutes a <strong>symmetric random walk</strong>.</p>
<section id="expected-returns" class="level2">
<h2 class="anchored" data-anchor-id="expected-returns">Expected Returns</h2>
<p>So let’s define a Discrete Random Variable <span class="math inline">\(R_i\)</span> as the i-th toss of a coin. And <span class="math inline">\(R\)</span> takes the value <span class="math inline">\(1\)</span> if it’s a tail and <span class="math inline">\(-1\)</span> if it’s a head.</p>
<p>The expectation of <span class="math inline">\(R_i\)</span> is then: <span class="math inline">\(\mathbb{E}[R_i] = \frac{1}{2} \cdot 1 + \frac{1}{2} \cdot -1 = 0\)</span></p>
<p>The variance of <span class="math inline">\(R_i\)</span> is then: <span class="math inline">\(\mathbb{V}ar[R_i] = \mathbb{E}[R_i^2] - \mathbb{E}[R_i]^2 = \left( \frac{1}{2} \cdot (1)^2 + \frac{1}{2} \cdot (-1)^2 \right) - 0^2 = 1\)</span></p>
</section>
<section id="expected-sum-of-returns" class="level2">
<h2 class="anchored" data-anchor-id="expected-sum-of-returns">Expected Sum of Returns</h2>
<p>Let’s now define another Discrete Random Variable <span class="math inline">\(S_i\)</span> which is the sum of the returns after n toss. Hence, <span class="math inline">\(S_i = \sum_{i=1}^{n} R_i\)</span> with an initial condition that <span class="math inline">\(S_0=0\)</span>. This initial condition not only makes sense (we did not win any money before to start the game) but it will also constitutes an important initial condition in the definition of Brownian Motion (or Wiener Process)</p>
<p>The expectation of <span class="math inline">\(S_i\)</span> is then: <span class="math display">\[\mathbb{E}[S_i] = \mathbb{E} \left[ \sum_{i=0}^{n} R_i \right] = \mathbb{E} \left[ R_0 + R_1 + \dots + R_n \right] = \mathbb{E}[R_0] + \mathbb{E}[R_1] + \dots + \mathbb{E}[R_n] = 0 + 0 + \dots + 0 = 0 \]</span></p>
<p>And the variance of <span class="math inline">\(S_i\)</span> is then: <span class="math display">\[\mathbb{V}ar[S_i] = \mathbb{E}[S_i^2] - \mathbb{E}[S_i]^2\]</span></p>
<p>Note how the second term <span class="math inline">\(\mathbb{E}[S_i]^2 = 0\)</span></p>
<p><span id="eq-var1"><span class="math display">\[\mathbb{V}ar[S_i] = \mathbb{E} \left[ \left( \sum_{i=0}^{n} R_i \right)^2 \right] = \mathbb{E} \left[ R_0^2 + R_1^2 + \dots + R_n^2 + 2R_1R_2 + 2R_1R_3 + \cdots \right] \tag{1}\]</span></span></p>
<p>Because the events are independents, <span class="math inline">\(\mathbb{E}[R_i R_j] = 0\)</span>. Hence all the double terms in <a href="#eq-var1">Equation&nbsp;1</a> above are equals to 0 and <span id="eq-var2"><span class="math display">\[\mathbb{V}ar[S_i] = \mathbb{E}[R_0^2] + \mathbb{E}[R_1^2] + \dots + \mathbb{E}[R_n^2] = 1 + 1 + \dots + 1 = n \cdot 1 = n \tag{2}\]</span></span></p>
</section>
<section id="the-markov-property" class="level2">
<h2 class="anchored" data-anchor-id="the-markov-property">The Markov Property</h2>
<p>Imagine, we already threw the coin a few times, let’s say 10 times. Now, we have some additional information as we know <span class="math inline">\(S_{10}\)</span>. We could ask ourselves the question what is the expectation for the next toss considering that additional information. It would make sense to say that we will get no more no less that what we already have since <span class="math inline">\(\mathbb{E}[R_i] = 0\)</span>. Mathematically, we can write this: <span class="math display">\[\mathbb{E}\left[ S_{i+1} | R_1, R_2, \dots, R_i \right] = S_i\]</span></p>
<p>The expected value of <span class="math inline">\(S_i\)</span> is only dependent of the previous value <span class="math inline">\(s_{i-1}\)</span> and not of any previous values (no memory beyond the one prior value)</p>
<p>The idea of the <em>Markov Property</em> is to say that the Random Walk Stochastic Process has no memory beyond the point where it (the walker) is now.</p>
</section>
<section id="the-martingale-property" class="level2">
<h2 class="anchored" data-anchor-id="the-martingale-property">The Martingale Property</h2>
<p>The conditional probability of any point in the future is what you already have.</p>
<p>And actually, we can generalize this further and state that: <span class="math display">\[\mathbb{E}\left[ S_i | S_j \space \forall i \gt j \right] = S_j\]</span></p>
<p>In a ‘fair game’, knowledge of the past will be of no value in predicting future events.</p>
</section>
<section id="the-quadratic-variation" class="level2">
<h2 class="anchored" data-anchor-id="the-quadratic-variation">The Quadratic Variation</h2>
<p>The quadratic variation of a random walk is defined as <span class="math display">\[\sum_{i=1}^n (S_i - S_{i-1})^2\]</span></p>
<p>The quadratic variation will be an extremely important concept as we extend the random-walk from a discrete time model to a continuous time model (aka to a Brownian Motion or Wiener process).</p>
<p>Intuitively, it makes sense to say that <span class="math display">\[(S_i - S_{i-1}) = \pm 1\]</span> Hence <span class="math display">\[(S_i - S_{i-1})^2 = 1\]</span> Hence <span class="math display">\[\sum_{i=1}^n (S_i - S_{i-1})^2 = n\]</span></p>
</section>
</section>
<section id="quadratic-variation-and-transition-to-continuous-time" class="level1">
<h1>Quadratic variation and transition to continuous time</h1>
<p>In the previous setting, each unit of time was 1 unit and bet sizes were <span class="math inline">\(\pm 1\)</span>. We are making 2 changes to this situation.</p>
<ul>
<li>Now, we think of a time as <em>a certain amount of time</em> that we call <span class="math inline">\(t\)</span>. That ‘certain amount of time’ is continuous and we can chunk it down into <span class="math inline">\(n\)</span> pieces. In this context, each piece of time is <span class="math inline">\(\frac{t}{n}\)</span> long. The goal will be to increase the size of <span class="math inline">\(n\)</span> until <span class="math inline">\(n \Rightarrow \infty\)</span></li>
<li>the bet size are now <span class="math inline">\(\sqrt \frac{t}{n}\)</span></li>
</ul>
<p>To feel why are we making these changes, let’s revisit the quadratic variation on these new units of time and bet sizes. <span class="math display">\[S_{i+1} - S_i = \pm \sqrt{\frac{t}{n}}\]</span> Quadratic variation is now <span id="eq-quad-variation"><span class="math display">\[\sum_{i=1}^n \left( \pm \sqrt{\frac{t}{n}} \right)^2 = n \cdot \frac{t}{n} = t \tag{3}\]</span></span></p>
<p>In this way, the quadratic variation is the total time of the coin tossing. This time is still finite.</p>
<p>In this experiment, both the markov and martingale properties are still valid.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Notes
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that:</p>
<ul>
<li>as n increases, the time decreases by a factor of <span class="math inline">\(\frac{1}{n}\)</span></li>
<li>as n increases, the bet size decreases by a factor of <span class="math inline">\(\sqrt{\frac{1}{n}}\)</span></li>
<li>as n increases to <span class="math inline">\(\infty\)</span>, both the time and the bets size will decrease to <span class="math inline">\(0\)</span> but not in the same way (by the same order)</li>
<li>as n increases to <span class="math inline">\(\infty\)</span>, the random walk stays finite! The random-walk stays continuous everywhere but differentiable nowhere</li>
<li>the limiting process as n tends to <span class="math inline">\(\infty\)</span> and time tends to <span class="math inline">\(0\)</span> (think <span class="math inline">\(dt\)</span>) creates a Brownian Motion (the Continuous random variable is called <span class="math inline">\(B_t\)</span>) or Wiener process (variable called <span class="math inline">\(W_t\)</span>)</li>
</ul>
</div>
</div>
<p>Why does it matter that the time-step is <span class="math inline">\(\frac{t}{n}\)</span> and the bet-size is <span class="math inline">\(\sqrt{\frac{1}{n}}\)</span>? Any other choice would have not made the random-walk finite (it could have gone to infinity into a finite time or not move at all)</p>
</section>
<section id="the-probability-of-wiener-processes-or-brownian-motions" class="level1">
<h1>The probability of Wiener Processes or Brownian Motions</h1>
<p>Although Brownian motions and Weiner processes are often used interchangeably, there is semantic difference, one could make. Brownian motion is the physical phenomenon of random movement of microscopic particles suspended in a fluid, such as dust in air or pollen in water. Wiener process is a mathematical model of Brownian motion, which is a continuous-time stochastic process that satisfies the following properties. The Weiner process models the standard Brownian motion. They are other type of Brownian motions that are not modeled by the Weiner process like geometric brownian motion, fractional brownian motion and Ornstein-Uhlenbeck process.</p>
<p>We denotes a Wiener Process as <span class="math inline">\(W_t\)</span> or <span class="math inline">\(W(t)\)</span> with initial condition that <span class="math inline">\(W_0 = 0\)</span> or <span class="math inline">\(W(0) = 0\)</span></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
definition of a Weiner process
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><span class="math inline">\(W_0 = 0\)</span></li>
<li><span class="math inline">\(W_t\)</span> is a continuous path (continuous everywhere, differentiable nowhere)</li>
<li>independent increments. For <span class="math inline">\(t_1 &lt; t_2 &lt; t_3 &lt; t_4 &lt; \cdots\)</span>, <span class="math inline">\(W_{t_4} - W_{t_3}\)</span> and <span class="math inline">\(W_{t_2} - W_{t_1}\)</span> are independent. In other words, the change in the process over any time interval is independent of its past and future values.</li>
<li>normally distributed increments. <span class="math inline">\(|W_t - W_s| \sim N(0, |t-s|)\)</span> The variance is equivalent to the length of the interval.</li>
</ul>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Example. Show that <span class="math inline">\(\mathbb{E}_s \left[ W_t | \mathcal{F_s} \right] = W_s\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>In other words, let’s show that the expectation of the stochastic process <span class="math inline">\(W_t\)</span> upon the condition that we know everything up to the point <span class="math inline">\(s\)</span> [<span class="math inline">\(W_t\)</span> is <span class="math inline">\(\mathcal{F}_s\)</span> measurable] is <span class="math inline">\(W_s\)</span></p>
<p><span class="math display">\[\mathbb{E}_s \left[ W_t | \mathcal{F_s} \right] = \mathbb{E}_s \left[ W_t - W_s + W_S | \mathcal{F_s} \right] = \mathbb{E}_s \left[ W_t -W_s| \mathcal{F_s} \right] + \mathbb{E}_s \left[ W_s | \mathcal{F_s} \right]\]</span> Because (bullet point #4) increments of a Brownian motion are normally distributed with mean 0: <span class="math inline">\(|W_t - W_s| \sim N(0, |t-s|)\)</span>, we can establish that <span class="math inline">\(\mathbb{E}_s \left[ W_t -W_s| \mathcal{F_s} \right] = 0\)</span></p>
<p>Hence: <span class="math display">\[\mathbb{E}_s \left[ W_t | \mathcal{F_s} \right]  = \mathbb{E}_s \left[ W_s | \mathcal{F_s} \right] = W_s\]</span></p>
</div>
</div>
<section id="properties-of-weiner-processes" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-weiner-processes">Properties of Weiner processes</h2>
<ul>
<li>They are <strong>finite</strong> - thanks to the increment (y-axis) scale with the square root of the time-steps</li>
<li>they are <strong>continuous</strong> - limit when time-steps are infinitely small and the random-walk is becoming continuous</li>
<li>follow <strong>Markov property</strong></li>
<li>follow <strong>Martingale property</strong></li>
<li>the quadratic variation from 0 to t is <span class="math inline">\(t\)</span> itself - see <a href="#eq-quad-variation">Equation&nbsp;3</a></li>
<li><strong>normality</strong>. <span class="math inline">\(W(t_i) - W(t_{i-1})\)</span> is normally distributed with mean 0 and variance <span class="math inline">\(t_i - t_{i-1}\)</span></li>
</ul>
</section>
<section id="expectation-of-w_t" class="level2">
<h2 class="anchored" data-anchor-id="expectation-of-w_t">Expectation of <span class="math inline">\(W_t\)</span></h2>
<p>Expectation is the same as in the random-walk except this time we are using the limit when <span class="math inline">\(n \to 0\)</span>. <span id="eq-exp-bm"><span class="math display">\[\mathbb{E}[W_t] = \mathbb{E} \left[\lim_{n \to \infty} \sum_{i=1}^n R_i\right] = \lim_{n \to \infty} \sum_{i=1}^n \mathbb{E}[R_i] = n \cdot 0 = 0 \tag{4}\]</span></span></p>
<p>In this sense, the mean of <span class="math inline">\(W_t = 0\)</span>.</p>
</section>
<section id="variance-of-w_t" class="level2">
<h2 class="anchored" data-anchor-id="variance-of-w_t">Variance of <span class="math inline">\(W_t\)</span></h2>
<p><span class="math display">\[\mathbb{V}ar[W_t] = \mathbb{E[W_t^2]} - \mathbb{E}[W_t]^2\]</span></p>
<p>From <a href="#eq-exp-bm">Equation&nbsp;4</a>, we already know that <span class="math inline">\(\mathbb{E}[W_t] = 0\)</span>; hence <span class="math inline">\(\left( \mathbb{E}[W_t] \right)^2\)</span> is also <span class="math inline">\(0\)</span></p>
<p><span class="math display">\[\mathbb{E}[W_t^2] = \mathbb{E}\left[\lim_{n \to \infty} \sum_{i=1}^n R_i^2 \right] = \lim_{n \to \infty} \sum_{i=1}^n \mathbb{E}[R_i^2] = \lim_{n \to \infty} n \cdot \left( \sqrt{\frac{t}{n}} \right)^2 = t\]</span></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="fderyckel/fderyckel.github.io" data-repo-id="R_kgDOIWAxjA" data-category="General" data-category-id="DIC_kwDOIWAxjM4CWAZU" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>